{
  "timestamp": "2025-10-02T08:58:35.729995",
  "total_tests": 18,
  "passed_tests": 17,
  "success_rate": 94.44444444444444,
  "test_results": [
    {
      "test": "API Root Endpoint",
      "success": true,
      "details": "Status: 200, Message: Liquor Sales Analysis Dashboard API"
    },
    {
      "test": "File Upload - Valid Excel",
      "success": true,
      "details": "Uploaded 5 records"
    },
    {
      "test": "File Upload - Invalid File Type",
      "success": true,
      "details": "Status: 400 - Correctly rejected invalid file type"
    },
    {
      "test": "Analytics Endpoint (multiplier=3.0)",
      "success": true,
      "details": "Total brands: 5, Overstocked: 0"
    },
    {
      "test": "Analytics Endpoint (multiplier=2.0)",
      "success": true,
      "details": "Total brands: 5, Overstocked: 0"
    },
    {
      "test": "Analytics Endpoint (multiplier=2.5)",
      "success": true,
      "details": "Total brands: 5, Overstocked: 0"
    },
    {
      "test": "Analytics Endpoint (multiplier=3.0)",
      "success": true,
      "details": "Total brands: 5, Overstocked: 0"
    },
    {
      "test": "Analytics Endpoint (multiplier=4.0)",
      "success": true,
      "details": "Total brands: 5, Overstocked: 0"
    },
    {
      "test": "Analytics Endpoint (multiplier=5.0)",
      "success": true,
      "details": "Total brands: 5, Overstocked: 0"
    },
    {
      "test": "Multiplier Logic Validation",
      "success": true,
      "details": "Tested multipliers: [2.0, 2.5, 3.0, 4.0, 5.0]"
    },
    {
      "test": "Brands Endpoint",
      "success": true,
      "details": "Retrieved 5 brands"
    },
    {
      "test": "Charts Data Endpoint",
      "success": true,
      "details": "Chart data counts: {'volume_leaders': 5, 'velocity_leaders': 5, 'revenue_leaders': 5, 'revenue_proportion': 5}"
    },
    {
      "test": "Demand Recommendations Endpoint",
      "success": true,
      "details": "Retrieved 3 recommendations, Urgency distribution: {'LOW': 3}, Wholesale rates properly calculated"
    },
    {
      "test": "Enhanced Excel Export Validation",
      "success": true,
      "details": "Excel file exported, size: 5420 bytes, proper download headers set, All 6 required columns present, Total row present, Uses original brand indexes (not serial numbers), Total calculation errors - Stock: 288 vs 288, Demand: 62 vs 62, Monthly Sale: 173485.72 vs 173485.71, 3 data rows + 1 total row"
    },
    {
      "test": "Enhanced Excel Export - Three Key Improvements",
      "success": true,
      "details": "\u2713 Uses original brand index numbers; \u2713 Projected Monthly Sale column has valid data; \u2713 Total row present with correct format; \u2713 Total row calculations are accurate; \u2713 All Excel brands match recommendation data"
    },
    {
      "test": "Excel Export Edge Cases",
      "success": false,
      "details": "\u2713 Returns Excel with existing recommendations; \u2713 Correct Excel MIME type; \u2713 Proper filename format with date; \u2713 Columns in correct order; Wholesale Rate is not numeric; \u2713 Projected Monthly Sale is numeric"
    },
    {
      "test": "Analytics - No Data Handling",
      "success": true,
      "details": "Returns existing data"
    },
    {
      "test": "CORS Configuration",
      "success": true,
      "details": "CORS preflight request successful, Missing CORS headers: ['Access-Control-Allow-Origin', 'Access-Control-Allow-Methods', 'Access-Control-Allow-Headers']"
    }
  ]
}